/*
*********************************************************************************************************
*                                                 MODULE
*
* Note(s) : MEM_POOL_SIZE 用户根据硬件和程序大小，合理设置堆大小
* Tip(s)  : 说明：
*             + 内存分配：init_mempool、malloc分配的内存，每个内存段会额外占用4个字节记录被分配的内存占用的长度信息
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                             INCLUDE FILES
*********************************************************************************************************
*/

#include "lib_mem.h"



/*
*********************************************************************************************************
*                                         PRIVATE FUNCTION
*********************************************************************************************************
*/

//堆区
uint8_t xdata malloc_mempool[MEM_POOL_SIZE] _at_ 0x0200;



/*
*********************************************************************************************************
* Description: 延时初始化函数
*
* Arguments  : none.
*
* Note(s)    : none.
*********************************************************************************************************
*/
void mem_init(void)
{
    memset(malloc_mempool, '\0', sizeof(malloc_mempool));
    init_mempool(&malloc_mempool, sizeof(malloc_mempool));  //初始化堆内存池
}

/*
*********************************************************************************************************
* Description: 延时n微妙
*
* Arguments  : nus  -  n微妙
*
* Note(s)    : 延迟时间，最多跨一个系统计时器溢出。小于50us(实测是53us)没有精度保证
*********************************************************************************************************
*/
// void mem_malloc(u8 size)
// {
// }

/**********************************************RND******************************************************/
